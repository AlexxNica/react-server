{"version":3,"sources":["webpack:///webpack/bootstrap a2f81a99c1eb436569e6","webpack:///./server.js","webpack:///./common.js","webpack:///./core/renderMiddleware.js","webpack:///external \"debug\"","webpack:///external \"react\"","webpack:///external \"q\"","webpack:///external \"superagent\"","webpack:///./core/PageObject.js","webpack:///./core/stores/BaseStore.js","webpack:///./core/components/Link.jsx","webpack:///./core/util/ObjectGraph.js","webpack:///./core/enums.js","webpack:///./core/util/bundleNameUtil.js","webpack:///./core/config.js","webpack:///./core/actions/index.js","webpack:///./core/components/AppRoot.jsx","webpack:///./core/context/RequestContext.js","webpack:///./core/util/ClientCssHelper.js","webpack:///external \"events\"","webpack:///external \"fs\"","webpack:///./core/util/SuperAgentWrapper.js","webpack:///./core/Loader.js","webpack:///./core/util/Bouncer.js","webpack:///./core/context/Navigator.js","webpack:///./core/components/RouterMixin.js","webpack:///external \"routr\"","webpack:///./core/components/History.js"],"names":[],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a2f81a99c1eb436569e6\n **/","var common = require(\"./common.js\");\n\ncommon.middleware = require(\"./core/renderMiddleware\")\nmodule.exports = common;\n\n\n/** WEBPACK FOOTER **\n ** ./server.js\n **/","// the common object model of triton on server and client -sra.\n\nmodule.exports = {\n\tpage: require(\"./core/PageObject\"),\n\tbaseStore: require('./core/stores/BaseStore'),\n\tlink: require('./core/components/Link'),\n\tactions: require('./core/actions'),\n\tobjectGraph: require('./core/util/ObjectGraph'),\n\tenums: require('./core/enums'),\n\tbundleNameUtil: require(\"./core/util/bundleNameUtil\"),\n\tconfig: require(\"./core/config\")\n}\n\n\n/** WEBPACK FOOTER **\n ** ./common.js\n **/","\nvar debug = require('debug')('rf:renderMiddleware'),\n\tReact = require('react'),\n\tAppRoot = React.createFactory(require('./components/AppRoot')),\n\tRequestContext = require('./context/RequestContext'),\n\tClientCssHelper = require('./util/ClientCssHelper'),\n\tQ = require('q'),\n\tconfig = require('./config'),\n\tsuperagent = require(\"superagent\");\n\n\n// TODO FIXME ?? \n// It *might* be worthwhile to get rid of all the closure-y things in render()\n// https://developers.google.com/speed/articles/optimizing-javascript\n\nvar DATA_LOAD_WAIT = 250;\n\nclass Renderer {\n\n\tconstructor (context) {\n\t\tthis.context = context;\n\t\tthis.router = context.router;\n\t\tthis._userDataPromise = context.loadUserData();\n\t}\n\n\trender (handlerResult) {\n\t\tdebug(\"Triggering userData load\");\n\t\tbeginRender(req, res, start, context, this._userDataPromise, handlerResult);\n\t}\n\n}\n\n\n/**\n * renderMiddleware entrypoint. Called by express for every request.\n */\nmodule.exports = function(routes, {superAgentExtender}) {\n\tif (superAgentExtender) {\n\t\tsuperAgentExtender(superagent);\n\t}\n\treturn function (req, res, next) {\n\n\t\tvar start = new Date();\n\n\t\tdebug('request: ', req.path);\n\n\t\t// TODO? pull this context building into its own middleware\n\t\tvar context = new RequestContext.Builder()\n\t\t\t\t.setRoutes(routes)\n\t\t\t\t.setLoaderOpts({}) // TODO FIXME\n\t\t\t\t.setDefaultXhrHeadersFromRequest(req)\n\t\t\t\t.create({\n\t\t\t\t\t// TODO: context opts?\n\t\t\t\t});\n\n\t\t// setup navigation handler (TODO: should we have a 'once' version?)\n\t\tcontext.onNavigate( (err, result) => {\n\n\t\t\tif (err) {\n\t\t\t\tdebug(\"There was an error:\", err);\n\t\t\t\tif (err.status && err.status === 404) {\n\t\t\t\t\tnext();\n\t\t\t\t} else if (err.status === 301 || err.status === 302) {\n\t\t\t\t\tres.redirect(err.status, err.redirectUrl);\n\t\t\t\t} else {\n\t\t\t\t\tnext(err);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdebug('Executing navigate action');\n\t\t\t\n\t\t\tvar userDataPromise = context.loadUserData();\n\t\t\tbeginRender(req, res, start, context, userDataPromise, result);\n\n\t\t});\n\n\t\tcontext.navigate({path: req.path});\n\n\t}\n}\n\nfunction beginRender(req, res, start, context, userDataDfd, navigateResult) {\n\n\tvar routeName = context.navigator.getCurrentRoute().name;\n\n\tdebug(\"Route Name\", routeName);\n\n\t// regardless of what happens, write out the header part\n\t// TODO: should this include the common.js file? seems like it\n\t// would give it a chance to download and parse while we're loading\n\t// data\n\twriteHeader(req, res, routeName, navigateResult.pageObject);\n\n\tvar doRenderCallback = function () {\n\n\t\t// user data should never be the long pole here.\n\t\tuserDataDfd.done(function () {\n\t\t\twriteBodyAndData(req, res, context, start, navigateResult);\n\t\t\tsetupLateArrivals(req, res, context, start);\n\t\t});\n\t}\n\n\t// TODO: we probably want a \"we're not waiting any longer for this\"\n\t// timeout as well, and cancel the waiting deferreds\n\n\tvar timeoutExceeded = false;\n\n\t// set up a maximum wait time for data loading.\n\t// if this timeout fires, we render with whatever we have,\n\t// as best as possible\n\tvar loadWaitHdl = setTimeout(function () {\n\t\tdebug(\"Timeout Exceeeded. Rendering...\");\n\t\ttimeoutExceeded = true;\n\t\tdoRenderCallback();\n\t}, DATA_LOAD_WAIT);\n\n\t// if we happen to load all data before the timeout is exceeded,\n\t// we clear the timeout, and just render. If this fires after the\n\t// timeout is exceeded, it's a no-op\n\t// use .done(...) to propagate caught exceptions properly\n\tvar loader = context.loader;\n\tloader.whenAllPendingResolve().done(function () {\n\t\tif (!timeoutExceeded) {\n\t\t\tdebug(\"Data loaded. Rendering...\");\n\t\t\tclearTimeout(loadWaitHdl);\n\t\t\tdoRenderCallback();\n\t\t}\n\t});\n\n}\n\nfunction writeHeader(req, res, routeName, pageObject) {\n\tdebug('Sending header');\n\tres.type('html');\n\n\tvar pageHeader = \"<!DOCTYPE html><html><head>\"\n\t\t// TODO: we should allow title to be a deferred\n\t\t+ renderTitle(pageObject) + \"\\n\"\n\t\t+ renderStylesheets(pageObject) + \"\\n\"\n\t\t+ renderScripts(pageObject) + \"\\n\"\n\t\t+ renderMetaTags(pageObject) + \"\\n\"\n\t\t+ \"</head><body class='route-\" + routeName + \"'><div id='content'>\";\n\tres.write(pageHeader);\n}\n\nfunction renderTitle (pageObject) {\n\treturn \"<title>\" + (pageObject.getTitle() || \"Navtej's Awesome Test Page\") + \"</title>\";\n}\n\nfunction renderMetaTags (pageObject) {\n\tvar metaTags = [ {charset: 'utf-8'} ];\n\n\tvar pageMetaTags = pageObject.getMetaTags();\n\tif (pageMetaTags.length > 0) {\n\t\tmetaTags = metaTags.concat(pageMetaTags);\n\t}\n\n\treturn metaTags.map( tagData => {\n\t\t// TODO: escaping\n\t\tvar tag = '<meta ';\n\t\ttag += Object.keys(tagData).map( metaAttrName => {\n\t\t\treturn metaAttrName + '=\"' + tagData[metaAttrName] + '\"';\n\t\t}).join(' ');\n\t\ttag += '>';\n\t\treturn tag;\n\t}).join(\"\\n\");\n}\n\nfunction renderScripts(pageObject) {\n\t// default script\n\tvar scripts = pageObject.getHeadScriptFiles();\n\tif (scripts && !Array.isArray(scripts)) {\n\t\tscripts = [scripts];\n\t}\n\n\treturn scripts.map( (scriptPath) => {\n\t\t// make sure there's a leading '/'\n\t\treturn '<script src=\"' + scriptPath +'\"></script>'\n\t}).join(\"\\n\");\n\n\n}\n\nfunction renderStylesheets (pageObject) {\n\tvar stylesheet = pageObject.getHeadStylesheet();\n\tif (!stylesheet) {\n\t\treturn \"\";\n\t}\n\treturn '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + stylesheet + '\" id=\"'+ ClientCssHelper.PAGE_CSS_NODE_ID + '\">' \n}\n\n\nfunction writeBodyAndData(req, res, context, start, navigateResult) {\n\n\tdebug(\"Rendering AppRoot.\");\n\tvar html = React.renderToString(AppRoot({\n\t\tchildComponent: navigateResult.component,\n\t\tcontext: context,\n\t\tpageStore: navigateResult.pageObject.getPageStore()\n\t}));\n\n\tres.write(html);\n\n\tdebug('Exposing context state');\n\tres.expose(context.dehydrate(), 'InitialContext');\n\tres.expose(getNonInternalConfigs(), \"Config\");\n\n\n\tres.write(\"</div>\"); // <div id=\"content\">\n\n\tvar pageFooter = \"\"\n\t\t+ \"<script> \" + res.locals.state + \"; window.initialRenderDfd = window.rfBootstrap();</script>\";\n\n\tres.write(pageFooter);\n\n\tdebug(\"Content Written: \" + (new Date().getTime() - start.getTime()) + \"ms\");\n}\n\nfunction setupLateArrivals(req, res, context, start) {\n\tvar loader = context.loader;\n\tvar notLoaded = loader.getPendingRequests();\n\n\tnotLoaded.forEach( pendingRequest => {\n\t\tpendingRequest.entry.dfd.promise.then( data => {\n\t\t\tdebug(\"Late arrival: \" + pendingRequest.url + \". Arrived \" + (new Date().getTime() - start.getTime()) + \"ms after page start.\");\n\t\t\tres.write(\"<script>window.initialRenderDfd.done(function () { window.context.loader.lateArrival(\\\"\" + pendingRequest.url + \"\\\", \" + JSON.stringify(data) + \"); });</script>\");\n\t\t})\n\t});\n\n\t// TODO: maximum-wait-time-exceeded-so-cancel-pending-requests code\n\tvar promises = notLoaded.map( result => result.entry.dfd.promise );\n\tQ.allSettled(promises).then(function () {\n\t\tres.end(\"</body></html>\");\n\t\tdebug(\"All Done: \" + (new Date().getTime() - start.getTime()) + \"ms\");\n\t});\n}\n\nfunction getNonInternalConfigs() {\n\tvar nonInternal = {};\n\tObject.keys(config).forEach( configKey => {\n\t\tif (configKey !== 'internal') {\n\t\t\tnonInternal[configKey] = config[configKey];\n\t\t}\n\t});\n\treturn nonInternal;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/renderMiddleware.js\n **/","module.exports = require(\"debug\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"debug\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"q\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"q\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"superagent\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"superagent\"\n ** module id = 6\n ** module chunks = 0\n **/","\nclass PageObject {\n\n\tconstructor (context, route) {\n\t\tif (!context) {\n\t\t\tthrow new Error(\"'context' parameter is required for PageObject\");\n\t\t}\n\t\tif (!route) {\n\t\t\tthrow new Error(\"'route' parameter is required for PageObject\");\n\t\t}\n\t\tthis._context = context;\n\t\tthis._route = route;\n\t}\n\n\tgetTitle () {\n\t\twarnDefaultImplementation(this, \"getTitle\");\n\t\treturn \"\";\n\t}\n\n\tgetHeadScriptFiles () {\n\t\treturn [];\n\t}\n\n\t// singular, for now\n\tgetHeadStylesheet () {\n\t\treturn \"\";\n\t}\n\n\tgetCanonicalUrl () {\n\t\treturn \"\";\n\t}\n\n\tgetMetaTags () {\n\t\treturn [];\n\t}\n\n}\n\n// class Stylesheet {\n\n// \tconstructor (href, extraOpts) {\n// \t\tthis._href = herf;\n// \t\tthis._extraOpts = extraOpts;\n// \t}\n\n// \ttoString () {\n// \t\tvar tag = '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + this._href + '\"' \n// \t\tObject.keys(this._extraOpts, (key) => {\n// \t\t\ttag += ' ' + key + '=\"' + this._extraOpts[key] + '\"';\n// \t\t});\n// \t\ttag += '>';\n// \t}\n\n// }\n\n// TODO: we're going to have more than one kind of tag...\nclass MetaTag {\n\n\tconstructor (name, content, extraOpts) {\n\t\tthis._name = name;\n\t\tthis._content = content;\n\t\tthis._extraOpts = extraOpts || {};\n\t}\n\n\ttoString () {\n\t\t// TODO: escaping\n\t\tvar tag = '<meta name=\"' + this._name + '\" content=\"' + this._content + '\"';\n\t\tObject.keys(this._extraOpts, (key) => {\n\t\t\ttag += ' ' + key + '=\"' + this._extraOpts[key] + '\"';\n\t\t});\n\t\ttag += '>';\n\t}\n\n}\n\nfunction warnDefaultImplementation (instance, functionName) {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tvar debug = require('debug')('rf:PageObject');\n\t\tdebug(\"WARNING: PageObject implementor doesn't override \" + functionName, instance);\n\t}\n}\n\nmodule.exports = PageObject;\nmodule.exports.MetaTag = MetaTag;\n\n\n/** WEBPACK FOOTER **\n ** ./core/PageObject.js\n **/","/**\n * Copyright 2014, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n * \n * converted to ES6 syntax by Redfin; dropped interaction with dispatcher.\n */\n// 'use strict';\n\nvar debug = require('debug')('rf:BaseStore'),\n\tEventEmitter = require('events').EventEmitter,\n\tQ = require('q'),\n    CHANGE_EVENT = 'change';\n\n\nclass BaseStore {\n\n\tconstructor (context) {\n\t\tthis._emitter = new EventEmitter();\n\n\t\tthis._loader = context.loader;\n\t\tthis._loadResults = {};\n\t\tthis._loadStatuses = {};\n\t\tthis._urls = {};\n\t\tthis._dataLoaderNames = [];\n\t\tthis._childStoreNames = [];\n\t\tthis._childStores = {};\n\t\tthis._isDone = false;\n\t\tthis._actionListeners = [];\n\t}\n\n\taddDataUrl(name, url) {\n\t\tthis._dupeCheckLoaderName(name);\n\n\t\tthis._dataLoaderNames.push(name);\n\t\tthis._urls[name] = url;\n\t\tthis._loadStatuses[name] = BaseStore.LoadState.NOT_STARTED;\n\t}\n\n\taddChildStore(name, store) {\n\t\tthis._dupeCheckLoaderName(name);\n\n\t\tthis._childStoreNames.push(name);\n\t\tthis._childStores[name] = store;\n\t\tstore.addChangeListener(this.emitChange.bind(this));\n\t}\n\n\tgetLoadStatus(field) {\n\t\tif (this._childStores[field]) {\n\t\t\tthrow (field + \" is a child store, not a data loader. Check the child store's status\");\n\t\t}\n\t\treturn this._loadStatuses[field];\n\t}\n\n\tgetIsReady(field) {\n\t\treturn this.getLoadStatus(field) === BaseStore.LoadState.DONE;\n\t}\n\n\tgetIsDone() {\n\t\treturn this._isDone;\n\t}\n\n\tget(field) {\n\t\tif (this._childStores[field]) {\n\t\t\treturn this._childStores[field];\n\t\t} else {\n\t\t\t//TODO - throw if not ready?\n\t\t\treturn this._loadResults[field];\t\n\t\t}\n\t}\n\n\t_dupeCheckLoaderName(name) {\n\t\tif (this._urls[name]) {\n\t\t\tdebug(\"Dataloader already exists with name \" +name);\n\t\t\tthrow (\"Dataloader already exists with name \" +name);\n\t\t} else if (this._childStoreNames[name]) {\n\t\t\tdebug(\"Child store already exists with name \" +name);\n\t\t\tthrow (\"Child store already exists with name \" +name);\n\t\t}\n\t}\n\n\t_handleLoadResult(name, result) {\n\t\t // TODO should we hold onto the raw result?\t\t \n\t\ttry {\n\t\t\tthis._loadResults[name] = this.processResponseData(name, result);\n\t\t\tthis._loadStatuses[name] = BaseStore.LoadState.DONE;\n\t\t} catch(err) {\n\t\t\tthis._loadResults[name] = result;\n\t\t\tthis._loadStatuses[name] = BaseStore.LoadState.ERROR;\n\t\t\tdebug(err);\n\t\t\tthrow err;\n\t\t}\t\t\n\t}\n\n\t_loadByName(name) {\n\t\tvar url = this._urls[name];\n\t\tdebug(\"requesting \" + name + \": \" + url);\n\t\tthis._loadStatuses[name] = BaseStore.LoadState.LOADING;\n\n\t\tvar cachedResult = this._loader.checkLoaded(url); \n\t\tif (cachedResult) {\n\t\t\tthis._handleLoadResult(name, cachedResult.getData());\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn this._loader.load(url).then(result => {\n\t\t\t\tdebug(\"completed \" + name + \": \" + url);\n\t\t\t\tthis._handleLoadResult(name, result);\n\t\t\t\tthis.emitChange();\t\t\n\t\t\t}, err => {\n\t\t\t\tdebug(\"error \" + name + \": \" + url);\n\t\t\t\tdebug(err);\n\t\t\t\tthis._loadStatuses[name] = BaseStore.LoadState.ERROR;\n\t\t\t\tthis.emitChange();\n\t\t\t});\n\t\t}\n\t}\n\n\tloadData () {\n\t\tif (this._dataLoaderNames.length < 1 && this._childStoreNames.length < 1) {\n\t\t\tthrow (\"Can't load data with 0 URLs and 0 child stores\");\n\t\t}\n\t\tvar nullUrls = this._dataLoaderNames.filter(name => {\n\t\t\treturn (name === null || name === undefined || !this._urls[name])\n\t\t});\t\t\n\t\tif (nullUrls.length > 0) {\n\t\t\tthrow (\"Can't load data from null or undefined urls. urls=\" + this._urls);\t\t\t\n\t\t}\n\n\t\t// kick off requests and store the promises\n\t\tvar loadPromises = this._dataLoaderNames.map(name => {\n\t\t\treturn this._loadByName(name);\n\t\t}).filter(promise=>{return promise !== null});\n\n\t\tvar childStoreLoadPromises = this._childStoreNames.map(name => {\n\t\t\tvar childStore = this._childStores[name];\n\t\t\tdebug(\"loading Child Store \" + name);\n\t\t\treturn childStore.loadData()\n\t\t})\n\n\t\tloadPromises = loadPromises.concat(childStoreLoadPromises);\n\n\t\tthis.emitChange();\n\t\t// should we just use Q.all?\n\n\t\tvar dfd = Q.defer();\n\t\t// we don't return the result of Q.allSettled so we can hide the loadResults from the caller.\n\t\tQ.allSettled(loadPromises).then(function(results) {\n\t\t\tthis._isDone = true;\n\t\t\t// TODO emitChange here?\n\t\t\tdfd.resolve();\n\t\t});\n\t\treturn dfd;\n\t}\n\n\t//IMPLEMENT THIS IN SUBCLASSES IF NEEDED\n\tprocessResponseData(name, responseData) {\n\t\treturn responseData;\n\t}\n\n\t/**\n\t * Action Stuff\n\t */\n\tlistenTo (action, callback) {\n\t\tthis._actionListeners.push(action.onTrigger(callback.bind(this)));\n\t}\n\n\tremoveAllActionListeners () {\n\t\tthis._actionListeners.forEach( hdl => hdl.remove() );\n\t\tthis._actionListeners = [];\n\t\tthis._childStoreNames.forEach( storeName => {\n\t\t\tthis._childStores[storeName].removeAllActionListeners();\n\t\t})\n\t}\n\n\t/*\n\t * Store event stuff\n\t */\n\n\taddChangeListener(callback) {\n\t\tthis._emitter.on(CHANGE_EVENT, callback);\n\t}\n\n\tremoveChangeListener(callback) {\n\t\tthis._emitter.removeListener(CHANGE_EVENT, callback);\n\t}\n\n\temitChange() {\t\n\t\tthis._emitter.emit(CHANGE_EVENT, this.constructor);\n\t}\n}\n\n// mixin for components that use an extended BaseStore as their top level store\n// assumes the store is passed in on the props as 'store'\n// TODO - is this too restrictive? maybe we do want multiple change handlers for different stores?\nBaseStore.ComponentStoreChangeMixin = {\n\tcomponentDidMount: function () {\n\t\tthis.props.store.addChangeListener(this.__BaseStore_storeChange);\n\t},\n\n\tcomponentWillReceiveProps: function (nextProps) {\n\t\tvar oldStore = this.props.store;\n\t\tvar newStore = nextProps.store;\n\t\tif (newStore !== oldStore) {\n\t\t\toldStore.removeChangeListener(this.__BaseStore_storeChange);\n\t\t\tnewStore.addChangeListener(this.__BaseStore_storeChange);\n\t\t}\n\t},\n\n\tcomponentWillUnmount: function () {\n\t\tthis.props.store.removeChangeListener(this.__BaseStore_storeChange);\n\t},\n\n\t// funky name so that we don't prevent implementers from using\n\t// the function name if they want\n\t__BaseStore_storeChange: function () {\n\t\tthis.forceUpdate();\n\t}\n}\n\nBaseStore.LoadState = {\n\tNOT_STARTED: {},\n\tLOADING: {},\n\tDONE: {},\n\tERROR: {}\n}\n\nmodule.exports = BaseStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/stores/BaseStore.js\n **/","\nvar React = require('react');\n\nvar Link = module.exports = React.createClass({\n\tdisplayName: 'Link',\n\n\tpropTypes: {\n\t\tcontext: React.PropTypes.object.isRequired,\n\t\tpath: React.PropTypes.string.isRequired\n\t},\n\n\trender: function () {\n\t\treturn (\n\t\t\t<a href={'/r3s' + this.props.path} onClick={this._onClick}>{this.props.children}</a>\n\t\t);\n\t},\n\n\t_onClick: function (e) {\n\n\t\t// TODO: IE8-9 detection\n\n\t\t// TODO: if OSX && key.isMeta? \n\t\tif (!e.metaKey) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.props.context.navigate({path: '/r3s' + this.props.path});\t\n\t\t} else {\n\t\t\t// do normal browser navigate\n\t\t}\n\t\t\n\t}\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/components/Link.jsx\n **/","function isArray(it){\n\t// summary:\n\t//\t\tReturn true if it is an Array.\n\t//\t\tDoes not work on Arrays created in other windows.\n\t// it: anything\n\t//\t\tItem to test.\n\treturn it && (it instanceof Array || typeof it == \"array\"); // Boolean\n}\n\nfunction isFunction(it){\n\t// summary:\n\t//\t\tReturn true if it is a Function\n\t// it: anything\n\t//\t\tItem to test.\n\treturn Object.prototype.toString.call(it) === \"[object Function]\";\n}\n\nfunction isObject(it){\n\t// summary:\n\t//\t\tReturns true if it is a JavaScript object (or an Array, a Function\n\t//\t\tor null)\n\t// it: anything\n\t//\t\tItem to test.\n\treturn it !== undefined &&\n\t\t(it === null || typeof it == \"object\" || isArray(it) || isFunction(it)); // Boolean\n}\n\n\nmodule.exports = class ObjectGraph {\n\tconstructor (data, creationCallback) {\n\t\tthis._types = data.__types;\n\t\tthis._global_attribute_names = data.__att_names;\n\t\t\n\t\tvar globalIds = {};\n\n\t\t// It's sometimes the case (see CFDR annd DealRoomController.java) that ObjectGraph is \n\t\t// used to deserialize data that has been serialized using a hybrid of ModelFactoryBuilder-style\n\t\t// serializations and straight-up GSON serializations.  To allow the latter to deserialize properly,\n\t\t// we simply return \"data\" in the case that a __root cannot be detected.\n\t\tif (data.__root == null) {\n\t\t\tthis._root = data;\n\t\t} else {\n\t\t\tthis._root = this._recursiveHydrate(data.__root, globalIds, creationCallback);\n\t\t}\n\t\tthis._recursiveResolve(this._root, globalIds, creationCallback);\n\t}\n\t\n\tgetRoot () { \n\t\treturn this._root;\n\t}\n\t\t\t\n\t// this method takes in the raw JSON object tree and returns a \"hydrated\" version of the tree.  note that the \n\t// tree passed in is NOT modified; a parallel tree is created.  every object and array in the original is \n\t// translated to the result.  objects that have a __type are instantiated using that constructor.  $ref references\n\t// are not resolved, but all of the global ids are added to globalIds, which is a map of id to object -sra.\n\t_recursiveHydrate (node, globalIds, creationCallback) {\n\t\tif (node == null) {\n\t\t\t// If null, no need to do anything. -shahaf.\n\t\t\treturn node;\n\t\t} else if (isArray(node)) {\n\t\t\t// arrays we just copy over into a new array, but we call hydrate on each of their members -sra.\n\t\t\tvar newArray = node.map(item => {\n\t\t\t\treturn this._recursiveHydrate(item, globalIds, creationCallback);\n\t\t\t});\n\t\t\treturn newArray;\n\t\t} else if (isObject(node)) {\n\t\t\t// for objects, we copy all the values over into newNodeData, then if there's a type,\n\t\t\t// we hydrate the type with newNodeData.  if not, we just use newNodeData.\n\t\t\tvar newNodeData = {};\n\t\t\tvar result = {};\t\t\t\t\t\n\t\t\tvar globalId;\n\t\t\t\n\t\t\t//MES- Untyped objects have attributes \"directly\" mapped into them.  Typed objects can ALSO have \n\t\t\t//\thave \"directly\" mapped attributes (if the type is \"extended\" with additional information.)\n\t\t\tfor (var name in node) {\n\t\t\t\t//MES- Store the global ID, if that's what we found\n\t\t\t\tif (name === '__g_id') {\n\t\t\t\t\tglobalId = node[name];\n\t\t\t\t}\n\t\t\t\t//MES- Ignore the other special \"typed\" fields\n\t\t\t\telse if (name === '__t_idx' || name === '__atts') {\n\t\t\t\t\t//MES- Ignore\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//MES- This is an att we care about, tack it on.\n\t\t\t\t\tnewNodeData[name] = this._recursiveHydrate(node[name], globalIds, creationCallback);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//MES- Is this object typed?  Typed objects are rehydrated based on an array of attribute values.\n\t\t\tif (undefined !== node.__t_idx) {\n\t\t\t\t//MES- Typed!\n\t\t\t\tvar typeIdx = parseInt(node.__t_idx);\n\t\t\t\tvar jsType = this._types[typeIdx];\n\t\t\t\tvar childNode = node.__atts;\n\t\t\t\t\n\t\t\t\tvar numChildren = childNode.length;\n\t\t\t\tvar typeFields = this._global_attribute_names[typeIdx];\n\t\t\t\tfor (var i = 0; i < numChildren; ++i) {\n\t\t\t\t\tvar fieldName = typeFields[i];\n\t\t\t\t\tnewNodeData[fieldName] = this._recursiveHydrate(childNode[i], globalIds, creationCallback);\n\t\t\t\t}\n\n\t\t\t\t// all of our children have been hydrated; time to hydrate ourself -sra.\n\t\t\t\tvar jsConstructor = null; //lang.getObject(jsType); //NSS TODO - disabled the object constructor thing here.\n\t\t\t\t/*if (!jsConstructor) {\n\t\t\t\t            // for dojo 1.8/AMD-style modules. This will failr if it hasn't been required by something else already.\n\t\t\t\t\ttry {\n\t\t\t\t\t    jsConstructor = require(jsType.replace(/\\./g, \"\\/\")); // convert to AMD module definition by swapping out '.' for '/'\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t// error is printed out in next line\n\t\t\t\t\t\tjsConstructor = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!jsConstructor) {\n\t\t\t\t         console.error(\"The type '\" + jsType + \"' could not be instantiated.  Have you dojo.required it?\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tresult = new jsConstructor(newNodeData);*/\n\t\t\t\tresult = newNodeData;\n\t\t\t\t\n\t\t\t\tif (typeof(creationCallback) === \"function\") {\n\t\t\t\t\t// Call back about the creation\n\t\t\t\t\tcreationCallback(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = newNodeData;\n\t\t\t}\n\t\t\t\n\t\t\t// now if there was a globalId, map it to the hydrated object -sra.\n\t\t\tif (globalId) {\n\t\t\t\tglobalIds[globalId] = result;\n\t\t\t}\n\t\t\treturn result;\n\t\t} else {\n\t\t\t// not an object or an array, not necessary to do anything. -sra.\n\t\t\treturn node;\n\t\t}\n\t}\n\t\n\t// this method recursively walks an object tree and resolves $ref references.  it acts on the object graph\n\t// in place.  note that it will only work correctly if the object graph is currently in tree form; that is,\n\t// it has no cycles in the graph yet. note that $ref objects that are inherited properties will not be resolved,\n\t// but this shouldn't be a problem for us -sra.\n\t_recursiveResolve (node, globalIds) {\n\t\tif (null === node) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (isArray(node)) {\n\t\t\t// for arrays, just resolve each item.  if the element is a reference, resolve it; otherwise,\n\t\t\t// call recursively. -sra.\n\t\t\tfor (var i = 0; i < node.length; i++) {\n\t\t\t\tvar item = node[i];\n\t\t\t\tif (null != item && isObject(item) && item[\"$ref\"] && globalIds[item[\"$ref\"]]) {\n\t\t\t\t\t// the item is a reference object.  resolve it. -sra.\n\t\t\t\t\tnode[i] = globalIds[item[\"$ref\"]];\n\t\t\t\t} else {\n\t\t\t\t\t// the item is another object; time to go recursive. note that we don't have\n\t\t\t\t\t// to put the result back into the array; we just resolve it in place. -sra.\n\t\t\t\t\tthis._recursiveResolve(item, globalIds);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isObject(node)) {\n\t\t\t\n\t\t\t// for objects, resolve each property of the object.  if the property is a reference object, resolve it;\n\t\t\t// otherwise call recursively. -sra.\n\t\t\tfor (var name in node) {\n\t\t\t\t// as an optimization, we only resolve direct properties. if we start using objects with \n\t\t\t\t// inheritance chains and assign values on a prototype, then we should reconsider this. \n\t\t\t\t// i doubt we will ever put object references onto prototypes, however. -sra.\n\t\t\t\t// RLG: skip fields starting with _Resettable, as they're not really fields on the object\n\t\t\t\tif (/^_Resettable.*/.test(name) || !node.hasOwnProperty(name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar value = node[name];\n\t\t\t\tif (null === value || isFunction(value)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (isObject(value) && value[\"$ref\"] && globalIds[value[\"$ref\"]]) {\n\t\t\t\t\t// the value is a reference object.  resolve it. -sra.\n\t\t\t\t\tnode[name] = globalIds[value[\"$ref\"]];\n\t\t\t\t\t\n\t\t\t\t\t/*if (isFunction(node.isInstanceOf) && node.isInstanceOf(_Resettable)) {\n\t\t\t\t\t\t// if we're a _Resettable, update the reset data for property on the object\n\t\t\t\t\t\tnode._Resettable_resetData[name] = node[name];\n\t\t\t\t\t}*/\n\t\t\t\t\t\n\t\t\t\t} else if (isArray(value) || isObject(value)){\n\t\t\t\t\t// the value is another object; time to go recursive. note that we don't have\n\t\t\t\t\t// to assign to node[name]; we just resolve it in place. -sra.\n\t\t\t\t\tthis._recursiveResolve(value, globalIds);\n\t\t\t\t\t\n\t\t\t\t\t// in this case, we're not changing the reference to the object, so we don't need to update\n\t\t\t\t\t// _Resettable_resetData, since it only holds references\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/util/ObjectGraph.js\n **/","\nvar debug = require('debug')('rf:enums'),\n\tsuperagent = require('superagent'),\n\tQ = require('q');\n\n// ADD ENUMS TO INCLUDE HERE\n\nvar enumMap = {\n\tFeature: 'g_feature',\n\tFavoritePropertyType: 'g_favoritePropertyType',\n\tApiResultCode: 'g_apiResultCode'\n};\n\n\n/// END ADD ENUMS HERE\n\n\nvar _dfd = null;\n\nvar enums = {\n\tinit: function () {\n\t\t// subsequent calls return the same dfd\n\t\tif (_dfd) return _dfd.promise;\n\n\t\tvar dfd = _dfd = Q.defer();\n\n\t\tvar req = superagent\n\t\t\t.get('/stingray/do/js/v56.0/EnumDefinitions.js');\n\n\t\tif (SERVER_SIDE) {\n\t\t\treq = req.buffer();\n\t\t}\n\t\t\t\n\t\treq.end( res => {\n\n\t\t\tif (!res.ok) {\n\t\t\t\tconsole.error(res.text);\n\t\t\t\tthrow Error('Error loading EnumDefinitions on startup');\n\t\t\t}\n\n\t\t\tdebug(\"Executing Hack...\");\n\n\t\t\tvar enumDefs = Object.keys(enumMap).reduce( (accum, key) => {\n\t\t\t\tif (accum !== \"\") {\n\t\t\t\t\taccum += \",\";\n\t\t\t\t}\n\t\t\t\treturn accum + key + \":\" + enumMap[key];\n\t\t\t}, \"\");\n\n\t\t\tvar hack = new Function(res.text + \"; return {\" + enumDefs + \"}\");\n\n\t\t\tdebug(\"Hack Executed\");\n\n\t\t\t// *copy* each loaded enum returned from our hack onto the appropriate\n\t\t\t// enum on the exported enums object. This allows us to reference a particular\n\t\t\t// enum object at require-time, but not have it filled in until a little later\n\t\t\tvar loadedEnums = hack();\n\n\t\t\tObject.keys(loadedEnums).forEach( enumName => {\n\t\t\t\tvar loadedEnum = loadedEnums[enumName];\n\t\t\t\tObject.keys(loadedEnum).forEach( enumObjectPropName => {\n\t\t\t\t\tenums[enumName][enumObjectPropName] = loadedEnum[enumObjectPropName];\n\t\t\t\t})\n\t\t\t});\n\n\t\t\tdfd.resolve();\n\t\t});\n\n\t\treturn dfd.promise;\n\n\t}\n\n}\n\n// create a placeholder object on the enums export so that they can be referenced\n// at module-require time. We'll fill it in when enums.init() is run\nObject.keys(enumMap).forEach( key => {\n\tenums[key] = {};\n});\n\n\nmodule.exports = enums;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/enums.js\n **/","\nvar JS_BUNDLE_SUFFIX = \".bundle.js\";\nvar CSS_ROLLUP_SUFFIX = \".styles.css\";\n\nfunction getEntryPointNameFromRouteName (routeName) {\n\treturn routeName + \"Page\";\n}\n\nmodule.exports = {\n\n\tJS_BUNDLE_SUFFIX: JS_BUNDLE_SUFFIX,\n\tCSS_ROLLUP_SUFFIX: CSS_ROLLUP_SUFFIX,\n\n\tgetEntryPointNameFromRouteName: getEntryPointNameFromRouteName,\n\n\tgetJsBundleFromRouteName: function (routeName) {\n\t\treturn getEntryPointNameFromRouteName(routeName) + JS_BUNDLE_SUFFIX;\n\t},\n\n\tgetCssRollupNameFromRouteName: function (routeName) {\n\t\treturn getEntryPointNameFromRouteName(routeName) + CSS_ROLLUP_SUFFIX;\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/util/bundleNameUtil.js\n **/","\n/**\n * Thin wrapper around the environment-specific configuration file\n */\n\nif (SERVER_SIDE) {\n\n(function () {\n\n\tif (!process.env.R3S_CONFIGS) {\n\t\tthrow 'R3S_CONFIGS environment variable required to start server.';\n\t}\n\n\tvar fs = require(\"fs\");\n\tvar configFile = fs.readFileSync(process.env.R3S_CONFIGS + \"/config.json\");\n\tmodule.exports = Object.freeze(JSON.parse(configFile));\n\n})();\n\n} else {\n\n(function () {\n\n\tvar env = module.exports = {\n\n\t\trehydrate: function (inputEnv) {\n\t\t\tObject.keys(inputEnv).forEach( key => {\n\t\t\t\tenv[key] = inputEnv[key];\n\t\t\t});\n\n\t\t\t// janky: remove the 'rehydrate' method from\n\t\t\t// the environment module after it's used\n\t\t\tdelete env.rehydrate;\n\t\t}\n\t};\n\n})();\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/config.js\n **/","\nvar EventEmitter = require('events').EventEmitter;\n\nclass Action extends EventEmitter {\n\n\ttrigger (payload) {\n\t\tif (SERVER_SIDE) {\n\t\t\tthrow \"Can't trigger events server-side!\";\n\t\t}\n\t\tthis.emit('trigger', payload);\n\t}\n\n\ttriggerAsync (payload) {\n\t\tif (SERVER_SIDE) {\n\t\t\tthrow \"Can't trigger events server-side!\";\n\t\t}\n\t\tsetTimeout( () => {\n\t\t\tthis.trigger(payload);\n\t\t}, 0);\n\t}\n\n\tonTrigger (callback) {\n\t\tif (SERVER_SIDE) {\n\t\t\t// ignore\n\t\t\treturn;\n\t\t}\n\t\tthis.addListener('trigger', callback);\n\n\t\treturn {\n\t\t\tremove: () => {\n\t\t\t\tthis.removeListener('trigger', callback);\t\t\t\t\n\t\t\t}\n\t\t};\n\t}\n\n}\n\n/**\n * The API defined here loosely matches that of reflux.js\n */\nfunction createAction() {\n\tvar action = new Action();\n\n\tvar func = function (payload) {\n\t\taction.triggerAsync(payload);\n\t}\n\n\tfunc.trigger = action.trigger.bind(action);\n\tfunc.triggerAsync = action.triggerAsync.bind(action);\n\tfunc.onTrigger = action.onTrigger.bind(action);\n\n\treturn func;\n}\n\nmodule.exports = {\n\tcreateAction: createAction,\n\tcreateActions: function (actionNames) {\n\t\tvar actions = {};\n\t\tactionNames.forEach( name => {\n\t\t\tactions[name] = createAction();\n\t\t});\n\t\treturn actions;\n\t}\n};\n\n\n/** WEBPACK FOOTER **\n ** ./core/actions/index.js\n **/","\nvar React = require('react'),\n\tRouterMixin = require('./RouterMixin'),\n\tdebug = require('debug')('AppRoot');\n\n\nvar AppRoot = React.createClass({\n\tmixins: [RouterMixin],\n\n\tdisplayName: \"AppRoot\",\n\n\tgetInitialState: function () {\n\t\tthis.navigator = this.props.context.navigator;\n\t\tvar state = this.navigator.getState();\n\t\tstate.componentFactory = React.createFactory(this.props.childComponent);\n\t\treturn state;\n\t},\n\n\t// called when re-render is called from the top-level\n\tcomponentWillReceiveProps: function (nextProps) {\n\t\tif (this.props.pageStore && this.props.pageStore !== nextProps.pageStore) {\n\t\t\t// if the store has updated, disconnect events in the old store\n\t\t\tif (typeof this.props.pageStore.removeAllActionListeners === 'function') {\n\t\t\t\tthis.props.pageStore.removeAllActionListeners();\n\t\t\t}\n\t\t}\n\t\tvar newState = this.navigator.getState();\n\t\tnewState.componentFactory = React.createFactory(nextProps.childComponent);\n\t\tthis.setState(newState);\n\t},\n\n\trender: function () {\n\t\tif (this.state.componentFactory) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{ this.state.componentFactory({ context: this.props.context, store: this.props.pageStore }) }\n\t\t\t\t\t{ this.state.loading ? <div className=\"loading\">LOADING</div> : \"\" }\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <div>Loading From AppRoot.jsx</div>;\n\t\t}\n\t}\n});\n\nmodule.exports = AppRoot;\n\n\n/** WEBPACK FOOTER **\n ** ./core/components/AppRoot.jsx\n **/","\nvar SuperAgentWrapper = require('../util/SuperAgentWrapper'),\n\tLoader = require(\"../Loader\"),\n\tBouncer = require('../util/Bouncer'),\n\tObjectGraph = require('../util/ObjectGraph'),\n\tNavigator = require('./Navigator'),\n\tQ = require('q');\n\n// TODO FIXME\nvar REFERRER_DOMAIN = \"http://node.redfintest.com\";\n\nclass RequestContext {\n\n\tconstructor (routes, loaderOpts, defaultHeaders, extraOpts) {\n\n\t\t// don't include headers client-side (browser has them already)\n\t\tif (!SERVER_SIDE || !defaultHeaders) {\n\t\t\tdefaultHeaders = {};\n\t\t}\n\t\tthis.superagent = new SuperAgentWrapper(defaultHeaders);\n\n\t\tthis.loader = new Loader(this /*context */, loaderOpts);\n\n\t\tthis.navigator = new Navigator(this, routes);\n\n\t\tthis._navigateListeners = [];\n\t}\n\n\tloadUserData () {\n\t\tif (this._userDataPromise) {\n\t\t\treturn this._userDataPromise\n\t\t}\n\t\t\n\t\tvar dfd = Q.defer();\n\t\tthis._userDataPromise = dfd.promise;\n\n\t\tthis.loader\n\t\t\t.load('/stingray/reactLdp/userData')\n\t\t\t.done( apiResult => {\n\t\t\t\tthis._resolveUserDataRequest(apiResult, dfd)\n\t\t\t});\n\n\t\treturn this._userDataPromise;\n\t}\n\n\t_resolveUserDataRequest (apiResult, dfd) {\n\t\t// TODO: what is the equivalent here\n\t\t// if (!res.ok) {\n\t\t// \tdfd.reject({ message: 'Error', status: res.status, text: res.text });\n\t\t// \treturn;\n\t\t// }\n\n\t\tif (apiResult.resultCode) {\n\t\t\tdfd.reject({ message: apiResult.errorMessage });\n\t\t\treturn;\n\t\t}\n\n\t\tvar userDataResult = apiResult.payload;\n\n\t\tthis._bouncer = new Bouncer(userDataResult.bouncerData);\n\t\tthis._userData = new ObjectGraph(userDataResult.userData).getRoot();\n\n\t\tdfd.resolve(userDataResult);\n\t}\n\n\tonNavigate (callback) {\n\t\tthis.navigator.on('navigateDone', callback);\n\t}\n\n\tnavigate (navOpts) {\n\t\tthis.navigator.navigate(navOpts);\n\t}\n\n\tgetBouncer () {\n\t\treturn this._bouncer;\n\t}\n\n\tdehydrate () {\n\t\treturn {\n\t\t\tloader: this.loader.dehydrate()\n\t\t}\n\t}\n\n\trehydrate (state) {\n\t\tthis.loader.rehydrate(state.loader);\n\t\tvar loaded = this.loader.checkLoaded('/stingray/reactLdp/userData');\n\t\tif (loaded) {\n\t\t\tvar dfd = Q.defer();\n\t\t\tthis._userDataPromise = dfd.promise;\n\t\t\tthis._resolveUserDataRequest(loaded.getData(), dfd);\n\t\t} else {\n\t\t\tthis.loadUserData();\n\t\t}\n\t}\n\n}\n\nclass RequestContextBuilder {\n\n\tconstructor () {\n\t\tthis.defaultHeaders = {};\n\t\tthis.loaderOpts = {};\n\t}\n\n\tsetRoutes(routes) {\n\t\tthis.routes = routes;\n\t\treturn this;\n\t}\n\n\tsetDefaultXhrHeadersFromRequest (req) {\n\t\tvar defaultHeaders = {};\n\t\tif (req) {\n\t\t\tdefaultHeaders['Cookie'] = req.get('cookie');\n\t\t\tdefaultHeaders['Referer'] = REFERRER_DOMAIN;\n\t\t}\n\t\tthis.defaultHeaders = defaultHeaders;\n\t\treturn this;\n\t}\n\n\tsetLoaderOpts (loaderOpts) {\n\t\tthis.loaderOpts = loaderOpts || {};\n\t\treturn this;\n\t}\n\n\tcreate (extraOpts) {\n\n\t\treturn new RequestContext(this.routes, this.loaderOpts, this.defaultHeaders, extraOpts);\n\t}\n\n}\n\nmodule.exports = RequestContext;\nmodule.exports.Builder = RequestContextBuilder;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/context/RequestContext.js\n **/","\nvar debug = require('debug')('rf:ClientCssHelper');\n\nvar pageCssLinkNode;\nvar loadedCss = {};\n\nvar ClientCssHelper = module.exports = {\n\n\tPAGE_CSS_NODE_ID: 'CssClientHelper-InitialCSS',\n\n\tregisterPageLoad: function registerPageLoad(routeName) {\n\t\tif (SERVER_SIDE) {\n\t\t\tthrow new Error(\"ClientCssHelper.registerPageLoad can't be called server-side\");\n\t\t}\n\t\tpageCssLinkNode = loadedCss[routeName] = document.getElementById(ClientCssHelper.PAGE_CSS_NODE_ID);\n\t},\n\n\tensureCss: function ensureCss(routeName, pageObject) {\n\t\tif (SERVER_SIDE) {\n\t\t\tthrow new Error(\"ClientCssHelper.registerPageLoad can't be called server-side\");\n\t\t}\n\n\t\tif (pageCssLinkNode === loadedCss[routeName]) {\n\t\t\tdebug(\"No-op: CSS for \" + routeName + \" is already in use\");\n\t\t\treturn;\n\t\t}\n\n\t\tvar newCss = pageObject.getHeadStylesheet();\n\n\t\tif (!loadedCss[routeName] && newCss) {\n\t\t\tvar styleTag = document.createElement('link');\n\t\t\tstyleTag.rel = 'stylesheet';\n\t\t\tstyleTag.type = 'text/css';\n\n\t\t\tstyleTag.href = newCss;\n\t\t\tloadedCss[routeName] = styleTag;\n\t\t}\n\n\t\tdebug('Updating to CSS for: ' + routeName);\n\t\tif (pageCssLinkNode) {\n\t\t\t// remove loaded CSS from the DOM\n\t\t\tpageCssLinkNode.parentNode.removeChild(pageCssLinkNode);\n\t\t}\n\n\t\tif (newCss) {\n\t\t\t// if we have new CSS, then we've already created the node (or)\n\t\t\t// have one from a previous load, so add it to the dom\n\t\t\tpageCssLinkNode = loadedCss[routeName];\n\t\t\tdocument.head.appendChild(pageCssLinkNode);\n\t\t} else {\n\t\t\tpageCssLinkNode = null;\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/util/ClientCssHelper.js\n **/","module.exports = require(\"events\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"events\"\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 19\n ** module chunks = 0\n **/","var debug = require('debug')('rf:SuperAgentWrapperPlugin'),\n\tsuperagent = require('superagent');\n\n\n/**\n * SuperAgent proxy object. Used to ensure that Redfin cookies\n * are set properly when superagent is executed server-side\n */\nfunction SuperAgentWrapper(defaultHeaders) {\n\tthis.defaultHeaders = defaultHeaders || {};\n}\n\n\n// Adding a layer of indirection between SuperAgentWrapper and\n// the superagent object so that when we set things on\n// SuperAgentWrapper.prototype we don't actually change superagent's\n// functions\nvar superAgentWrapperPrototype = {};\nsuperAgentWrapperPrototype.prototype = superagent;\n\n// SuperAgentWrapper inherits from the superagent\n// object. Note that this makes it impossible for\n// developers to use the low-level request(<method>, <url>)\n// functionality of superagent.\nSuperAgentWrapper.prototype = superAgentWrapperPrototype;\n\n// Override specific functionality from superagent\n\nSuperAgentWrapper.prototype.get = function (url, data, fn) {\n\t// we never want to pass fn, because we need to do stuff\n\t// to the request first\n\tif ('function' == typeof data) fn = data, data = null;\n\tvar req = superagent.get.call(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n}\n\nSuperAgentWrapper.prototype.head = function (url, data, fn){\n\tif ('function' == typeof data) fn = data, data = null;\n\tvar req = superagent.head.call(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n};\n\nSuperAgentWrapper.prototype.del = function (url, fn){\n\tvar req = superagent.del.call(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n};\n\nSuperAgentWrapper.prototype.patch = function (url, data, fn){\n\tif ('function' == typeof data) fn = data, data = null;\n\tvar req = superagent.patch.call(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n};\n\nSuperAgentWrapper.prototype.post = function (url, data, fn){\n\tif ('function' == typeof data) fn = data, data = null;\n\tvar req = superagent.post.call(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n};\n\nSuperAgentWrapper.prototype.put = function (url, data, fn){\n  \tif ('function' == typeof data) fn = data, data = null;\n\tvar req = superagent.patch.put(this, url, data);\n\treq.set(this.defaultHeaders);\n\tif (fn) req.end(fn);\n\treturn req;\n};\n\nmodule.exports = SuperAgentWrapper;\n\n\n/** WEBPACK FOOTER **\n ** ./core/util/SuperAgentWrapper.js\n **/","\nvar Q = require('q'),\n\tdebug = require('debug')('rf:Loader'),\n\tconfig = require(\"./config\");\n\n\n// can't do \"export class Loader\"\nmodule.exports = class Loader {\n\n\tconstructor (context, options) {\n\t\t// super();\n\n\t\tthis.context = context;\n\t\tthis.options = options || {};\n\t\tthis.dataCache = {};\n\t}\n\n\tdehydrate () {\n\n\t\tvar out = {};\n\t\t\n\t\t// dehydrate all options, except the 'headers' key,\n\t\t// which doesn't make sense client-side\n\t\tout.options = {};\n\t\tObject.keys(this.options).forEach( key => {\n\t\t\tif (key.toLowerCase() !== 'headers') {\n\t\t\t\tout.options[key] = this.options[key];\n\t\t\t}\n\t\t});\n\n\t\tout.dataCache = {};\n\n\t\tvar dataCache = this.dataCache;\n\t\tObject.keys(dataCache).forEach(function (url) {\n\t\t\tvar result = {\n\t\t\t\tloaded: dataCache[url].dfd.promise.isFulfilled(),\n\t\t\t\trequesters: dataCache[url].requesters\n\t\t\t};\n\t\t\tif (result.loaded) {\n\t\t\t\tresult.data = dataCache[url].data;\n\t\t\t}\n\t\t\tout.dataCache[url] = result;\n\t\t});\n\n\t\treturn out;\n\n\t}\n\n\trehydrate (state) {\n\n\t\tdebug(\"REHYDRATING LOADER!!\");\n\n\t\tif (state.options) {\n\t\t\tthis.options = state.options;\n\t\t}\n\n\t\t// clear state\n\t\tvar dataCache = this.dataCache = {};\n\n\n\t\tObject.keys(state.dataCache).forEach(function (url) {\n\t\t\tvar cacheEntry = state.dataCache[url];\n\t\t\tvar dfd = Q.defer();\n\n\t\t\tdataCache[url] = { dfd: dfd, requesters: cacheEntry.requesters }\n\t\t\tif (cacheEntry.loaded) {\n\t\t\t\tdataCache[url].data = cacheEntry.data;\n\t\t\t\t// immediately resolve\n\t\t\t\t// TODO: setTimeout, so it's not synchronous?\n\t\t\t\t// TODO: it appears to be asynchronous w/ or w/o setTimeout?\n\t\t\t\t//setTimeout(function () {\n\t\t\t\t\tdfd.resolve(cacheEntry.data);\n\t\t\t\t//}, 0);\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t}\n\t\n\tload (urlPattern) {\n\t\tvar actualUrl = this.buildUrl(urlPattern);\n\n\t\tif (this.dataCache[actualUrl]) {\n\t\t\tdebug(\"HITTING CACHE, OH YEAH. \");\n\n\t\t\tvar cacheEntry = this.dataCache[actualUrl],\n\t\t\t\tpromise = cacheEntry.dfd.promise;\n\n\t\t\t// TODO: should probably figure out how to deep copy the data?\n\n\t\t\tif (SERVER_SIDE) {\n\t\t\t\t// server-side, we increment the number of requesters\n\t\t\t\t// we expect to retrieve the data on the frontend\n\t\t\t\tcacheEntry.requesters += 1;\t\n\t\t\t} else {\n\t\t\t\t// client-side, whenever someone retrieves data from the cache,\n\t\t\t\t// we decrement the number of retrievals expected, and when we\n\t\t\t\t// hit zero, remove the cache entry. \n\n\t\t\t\tpromise = this._requesterDecrementingPromise(promise, actualUrl);\n\t\t\t}\n\t\t\t\n\t\t\treturn promise;\n\t\t}\n\n\t\tvar dfd = Q.defer(),\n\t\t\tpromise = dfd.promise;\n\n\t\t// TODO: make this request cancelable\n\t\tthis.context.superagent.get(this._apiServerPrefix() + actualUrl)\n\t\t\t.end( res => {\n\n\t\t\t\tdebug(\"Response Came Back!\");\n\n\t\t\t\t// server-side, we cache the response in the dataCache to\n\t\t\t\t// present to the frontend\n\t\t\t\tif (SERVER_SIDE) {\n\t\t\t\t\tthis.dataCache[actualUrl].loaded = true;\n\t\t\t\t\tthis.dataCache[actualUrl].data = res.body;\n\t\t\t\t}\n\t\t\t\tdfd.resolve(res.body);\n\t\t\t});\n\t\t\n\t\tif (SERVER_SIDE) {\n\t\t\t// server-side, we cache the data, and count the number of requesters so\n\t\t\t// that we know how many requests to fulfill client-side\n\t\t\tthis.dataCache[actualUrl] = { dfd: dfd, loaded: false, requesters: 1 };\n\t\t} else {\n\t\t\t// client-side, we do *nothing* on this code path, because it means\n\t\t\t// that a url was requested that we couldn't serve from our cache, i.e.\n\t\t\t// it was either not previously requested on the backend, or was requested,\n\t\t\t// but we fulfilled our obligations to its requestors. This is a *new* request,\n\t\t\t// and we shouldn't need to cache it (Right?)\n\t\t\t// TODO: it might be cool if two people on the frontend could request the same resource,\n\t\t\t// and if they did it fast enough, they both got the same instance of it. That seems like\n\t\t\t// a P2 though?\n\t\t}\n\t\treturn promise;\n\t}\n\n\t/**\n\t * Chain a promise with another promise that decrements\n\t * the number of expected requesters.\n\t */\n\t_requesterDecrementingPromise (promise, actualUrl) {\n\t\tvar dataCache = this.dataCache;\n\t\treturn promise.then(function (data) {\n\t\t\tdataCache[actualUrl].requesters -= 1;\n\t\t\tdebug(\"Decrementing: \", dataCache[actualUrl]);\n\t\t\tif (dataCache[actualUrl].requesters === 0) {\n\t\t\t\tdelete dataCache[actualUrl];\n\t\t\t}\n\n\t\t\t// since we're adding to the original promise chain,\n\t\t\t// we need to pass the data through\n\t\t\treturn data;\n\n\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Synchronously check if data is loaded already.\n\t * Returns an object with a getData() function, to\n\t * make it possible to check for the existence of a URL\n\t * in the cache, but not actually retrieve if (if desired).\n\t * Calling getData() will retrieve the data from the cache\n\t * and decrement the number of requesters\n\t */\n\tcheckLoaded (urlPattern) {\n\t\tvar actualUrl = this.buildUrl(urlPattern),\n\t\t\tdataCache = this.dataCache,\n\t\t\tcached = dataCache[actualUrl];\n\n\t\tif (cached && cached.data) {\n\t\t\treturn {\n\t\t\t\tgetData: function () {\n\t\t\t\t\t// sort of a synchronous promise thing\n\t\t\t\t\tcached.requesters -= 1;\n\t\t\t\t\tif (cached.requesters === 0) {\n\t\t\t\t\t\tdelete dataCache[actualUrl];\n\t\t\t\t\t}\n\t\t\t\t\treturn cached.data;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tbuildUrl (urlPattern) {\n\t\t// keep it dead-simple for now\n\t\tif (this.options.id) {\n\t\t\treturn urlPattern.replace(/{id}/g, this.options.id);\n\t\t} else {\n\t\t\treturn urlPattern;\n\t\t}\n\t}\n\n\tgetPendingRequests () {\n\t\tvar dataCache = this.dataCache;\n\n\t\treturn Object.keys(dataCache)\n\t\t\t.filter( url => !dataCache[url].loaded )\n\t\t\t.map( url => {\n\t\t\t\treturn {url: url, entry: dataCache[url] }\n\t\t\t});\n\t}\n\n\twhenAllPendingResolve () {\n\t\tvar promises = Object.keys(this.dataCache)\n\t\t\t.map( url => this.dataCache[url].dfd.promise );\n\t\treturn Q.allSettled(promises);\n\t}\n\n\tlateArrival (url, data) {\n\t\tvar dataCache = this.dataCache;\n\t\tif (dataCache[url]) {\n\t\t\tdataCache[url].loaded = true;\n\t\t\tdataCache[url].data = data;\n\t\t\tdataCache[url].dfd.resolve(data);\n\t\t} else {\n\t\t\tdebug(\"WTF?\");\n\t\t}\n\t}\n\n\t_apiServerPrefix () {\n\t\tvar prefix;\n\n\t\tif (SERVER_SIDE) {\n\t\t\t// internal URL. Is likely different than the public URL, and indeed\n\t\t\t// shouldn't be displayed publicly, probably?\n\t\t\tprefix = config.internal.apiServerPrefix;\n\t\t} else {\n\t\t\t// public URL (e.g. http://www.redfin.com)\n\t\t\tprefix = config.apiServerPrefix;\n\t\t}\n\t\tdebug(\"_apiServerPrefix: \" + prefix);\n\t\treturn prefix;\n\t}\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Loader.js\n **/","\nmodule.exports = class Bouncer {\n\n\tconstructor (data) {\n\t\tthis.setBouncerData(data || {});\n\t}\n\n\tsetBouncerData (bouncerData) {\n\t\tthis._bouncerData = bouncerData;\n\t}\n\n\tisOn (feature) {\n\t\treturn typeof( this.getVariant(feature) ) !== \"undefined\";\n\t}\n\n\tgetVariant (feature) {\n\t\ttry {\n\t\t\tvar featureId = feature && feature.id ? feature.id : feature;\n\t\t\treturn this._bouncerData[featureId];\n\t\t}\n\t\tcatch(e) {\n\t\t\tconsole.error(\"Bouncer failed for feature [\"+feature+\"]\", e);\n\t\t}\n\t\treturn {}.x; // Return (guaranteed to be) undefined. Cannot use \"return undefined\" because \"undefined\" can technically be reassigned\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/util/Bouncer.js\n **/","\nvar EventEmitter = require('events').EventEmitter,\n\tRouter = require('routr'),\n\tQ = require('q');\n\nclass Navigator extends EventEmitter {\n\n\tconstructor (context, routes, applicationStore) {\n\t\tthis.router = new Router(routes);\n\t\tthis.context = context;\n\t\t\n\t\tthis._loading = false;\n\t\tthis._currentRoute = null;\n\t}\n\n\tnavigate (navOpts) {\n\n\t\tvar route = this.router.getRoute(navOpts.path, {navigate: navOpts});\n\t\tif (!route) {\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.emit('navigateDone', { status: 404, message: \"No Route!\" });\n\t\t\t}, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startRoute(route);\n\t\tthis.emit('navigateStart', route);\n\n\t\t/* Breathe... */\n\n\t\troute.config.resolveComponent().done( component => {\n\t\t\t// when the handler function is done, we'll start it executing, optimistically\n\t\t\tvar actionFunc = Q.nfbind(component.handleRoute);\n\t\t\tactionFunc(this.context, route).done( (pageObject) => {\n\t\t\t\tthis.finishRoute(route);\n\t\t\t\tthis.emit('navigateDone', null, {\n\t\t\t\t\tcomponent: component,\n\t\t\t\t\tpageObject: pageObject\n\t\t\t\t});\n\t\t\t}, (err) => {\n\t\t\t\t// if the handler function had an error (i.e., an indication of a redirect)\n\t\t\t\tthis.emit('navigateDone', err);\n\t\t\t});\n\t\t}, handlerFuncErr => {\n\t\t\tconsole.error(\"Error resolving handler function\", handlerFuncErr);\n\t\t});\n\n\t}\n\n\tgetState () {\n\t\treturn {\n\t\t\tloading: this._loading,\n\t\t\troute: this._currentRoute\n\t\t}\n\t}\n\n\tgetCurrentRoute () {\n\t\treturn this._currentRoute;\n\t}\n\n\tgetLoading () {\n\t\treturn this._loading;\n\t}\n\n\tstartRoute (route) {\n\t\tthis._loading = true;\n\t\tthis._currentRoute = route;\n\t}\n\n\tfinishRoute (route) {\n\t\tthis._loading = false;\n\t}\n\n}\n\nmodule.exports = Navigator;\n\n\n/** WEBPACK FOOTER **\n ** ./core/context/Navigator.js\n **/","/**\n * Copyright 2014, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n /**\n  * Redfin: converted to not use a dispatcher or navigateAction, and to use a different\n  * form for triggering navigation. Removed setImmediate?\n  */\n'use strict';\n\nvar History = require('./History'),\n    EVT_PAGELOAD = 'pageload',\n    EVT_POPSTATE = 'popstate',\n    RouterMixin;\n\n// require('setimmediate');\n\nfunction routesEqual(route1, route2) {\n    route1 = route1 || {};\n    route2 = route2 || {};\n    return (route1.path === route2.path);\n}\n\nRouterMixin = {\n    componentDidMount: function() {\n        var self = this,\n            context = self.props.context,\n            pathFromHistory,\n            pathFromState = self.state.route.path;\n\n        self._history = ('function' === typeof self.props.historyCreator) ? self.props.historyCreator() : new History();\n        pathFromHistory = self._history.getPath();\n\n        if (context && (pathFromHistory !== pathFromState)) {\n\n            // REDFIN-TODO: do we need this business? We're already doing this ourselves, and our 'navigate'\n            // needs to do things in its callback\n\n            // YAHOO: put it in setImmediate, because we need the base component to have\n            // store listeners attached, before navigateAction is executed.\n            // setImmediate(function navigateToActualRoute() {\n            //     context.executeAction(navigateAction, {type: EVT_PAGELOAD, path: pathFromHistory});\n            // });\n        }\n\n        self._historyListener = function (e) {\n            if (context) {\n                var path = self._history.getPath();\n\n                // REDFIN-TODO: this appears to pass some state. Should we figure out how to replicate that?\n                // context.executeAction(navigateAction, {type: EVT_POPSTATE, path: path, params: e.state});\n\n                context.navigate({ type: EVT_POPSTATE, path: path });\n                \n            }\n        };\n        self._history.on(self._historyListener);\n    },\n    componentWillUnmount: function() {\n        this._history.off(this._historyListener);\n        this._historyListener = null;\n        this._history = null;\n    },\n    componentDidUpdate: function (prevProps, prevState) {\n        var newState = this.state;\n        if (routesEqual(prevState && prevState.route, newState && newState.route)) {\n            return;\n        }\n        var nav = newState.route.navigate;\n        if (nav.type !== EVT_POPSTATE && nav.type !== EVT_PAGELOAD) {\n            this._history.pushState(nav.params || null, null, newState.route.path);\n        }\n    }\n};\n\nmodule.exports = RouterMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/components/RouterMixin.js\n **/","module.exports = require(\"routr\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"routr\"\n ** module id = 25\n ** module chunks = 0\n **/","/**\n * Copyright 2014, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n /*\n  * Redfin: unchnaged (so far)\n  */\n/*global window */\n'use strict';\n\nvar EVENT_POPSTATE = 'popstate';\n\n/**\n * This only supports pushState for the browsers with native pushState support.\n * For other browsers (mainly IE8 and IE9), it will refresh the page upon pushState()\n * and replaceState().\n * @class History\n * @constructor\n * @param {Object} [options]  The options object\n * @param {Window} [options.win=window]  The window object\n */\nfunction History(options) {\n    this.win = (options && options.win) || window;\n    this._hasPushState = !!(this.win && this.win.history && this.win.history.pushState);\n}\n\nHistory.prototype = {\n    /**\n     * Add the given listener for 'popstate' event (nothing happens for browsers that\n     * don't support popstate event).\n     * @method on\n     * @param {Function} listener\n     */\n    on: function (listener) {\n        if (this._hasPushState) {\n            this.win.addEventListener(EVENT_POPSTATE, listener);\n        }\n    },\n\n    /**\n     * Remove the given listener for 'popstate' event (nothing happens for browsers that\n     * don't support popstate event).\n     * @method off\n     * @param {Function} listener\n     */\n    off: function (listener) {\n        if (this._hasPushState) {\n            this.win.removeEventListener(EVENT_POPSTATE, listener);\n        }\n    },\n\n    /**\n     * Gets the path string, including the pathname and search query (if it exists).\n     * @method getPath\n     * @return {String} The path string that denotes current route path\n     */\n    getPath: function () {\n        var location = this.win.location;\n        return location.pathname + location.search;\n    },\n\n    /**\n     * Same as HTML5 pushState API, but with old browser support\n     * @method pushState\n     * @param {Object} state The state object\n     * @param {String} title The title string\n     * @param {String} url The new url\n     */\n    pushState: function (state, title, url) {\n        var win = this.win;\n        if (this._hasPushState) {\n            win.history.pushState(state, title, url);\n        } else {\n            win.location.href = url;\n        }\n    },\n\n    /**\n     * Same as HTML5 replaceState API, but with old browser support\n     * @method replaceState\n     * @param {Object} state The state object\n     * @param {String} title The title string\n     * @param {String} url The new url\n     */\n    replaceState: function (state, title, url) {\n        var win = this.win;\n        if (this._hasPushState) {\n            win.history.replaceState(state, title, url);\n        } else {\n            win.location.replace(url);\n        }\n    }\n};\n\nmodule.exports = History;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/components/History.js\n **/"],"sourceRoot":"","file":"triton-server.js"}